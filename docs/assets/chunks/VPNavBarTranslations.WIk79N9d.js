import{d as S,u as j,k as A,l as p,z as y,o as l,c as o,A as n,t,x as i,I as k,w as m,F as f,G as L,n as x,e as V,_ as q}from"./framework.DgUpollF.js";import{s as H,i as J,v as I,w as K}from"./theme.8nlQQJs_.js";function Q(){const b=navigator.language,r=navigator.languages||[b];return{primary:b,all:r}}const W={class:"items"},X={class:"title"},Y={class:"label"},Z={class:"container"},ee=["href","hreflang","onClick"],ae={class:"region"},ne={class:"language"},se={class:"label"},te={class:"container"},le=["href","hreflang","onClick"],oe={class:"region"},ie={class:"language"},re={class:"label"},ue={class:"container"},ce=["onClick"],de={class:"region"},ve={class:"language"},ge=S({__name:"VPNavBarTranslations",setup(b){const{site:r,localeIndex:u,page:U,theme:z,hash:G}=j(),{currency:d,currencies:R}=H(),{$t:v}=J(),g=A(!1),{all:C}=Q(),c=p(()=>u.value==="root"?I:u.value),B=p(()=>{var a,s;return{label:(a=r.value.locales[u.value])==null?void 0:a.label,link:((s=r.value.locales[u.value])==null?void 0:s.link)||(u.value==="root"?"/":`/${u.value}/`)}}),M=p(()=>Object.entries(r.value.locales).flatMap(([a,s])=>({lang:a==="root"?I:a,region:s.region,currency:s.currency,text:s.label,link:K(s.link||(a==="root"?"/":`/${a}/`),z.value.i18nRouting!==!1,U.value.relativePath.slice(B.value.link.length-1),!r.value.cleanUrls)+G.value}))),T=p(()=>{const a=[];return M.value.forEach(s=>{const _=C.indexOf(s.lang);_>-1&&(a[_]=s)}),a.filter(Boolean)}),N=p(()=>M.value.filter(a=>!C.includes(a.lang))),$=()=>{g.value=!0},P=()=>{g.value=!1},D=a=>{g.value=a},E=a=>()=>{d.value=a,P()},w=a=>()=>{a.currency&&(d.value=a.currency),P()};return(a,s)=>{const _=y("TabPanel"),F=y("TabGroup"),O=y("Modal");return l(),o("div",{class:"VPNavBarTranslations",onClick:$},[n("div",W,[n("span",X,[n("span",null,t(B.value.label),1),s[1]||(s[1]=n("span",{class:"divider"},null,-1)),n("span",null,t(i(d)),1)]),k(O,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=e=>g.value=e),"onUpdate:visible":D,width:550},{default:m(()=>[k(F,null,{default:m(()=>[k(_,{title:i(v)("Region and Language")},{default:m(()=>[T.value.length>0?(l(),o(f,{key:0},[n("div",Y,t(i(v)("Suggested region and language")),1),n("div",Z,[(l(!0),o(f,null,L(T.value,e=>(l(),o("a",{key:e.link,href:c.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:c.value===e.lang?void 0:w(e)},[i(C).includes(e.lang)?(l(),o("div",{key:0,class:x(["button",{active:c.value===e.lang}])},[n("div",ae,t(e.region),1),n("div",ne,t(e.text),1)],2)):V("",!0)],8,ee))),128))])],64)):V("",!0),N.value.length>0?(l(),o(f,{key:1},[n("div",se,t(i(v)("Choose a region and language")),1),n("div",te,[(l(!0),o(f,null,L(N.value,e=>(l(),o("a",{key:e.link,href:c.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:c.value===e.lang?void 0:w(e)},[n("div",{class:x(["button",{active:c.value===e.lang}])},[n("div",oe,t(e.region),1),n("div",ie,t(e.text),1)],2)],8,le))),128))])],64)):V("",!0)]),_:1},8,["title"]),k(_,{title:i(v)("Currency")},{default:m(()=>[n("div",re,t(i(v)("Choose a currency")),1),n("div",ue,[(l(!0),o(f,null,L(i(R),(e,h)=>(l(),o("a",{key:e.name,onClick:i(d)===h?void 0:E(h)},[n("div",{class:x(["button",{active:i(d)===h}])},[n("div",de,t(e.name),1),n("div",ve,t(h),1)],2)],8,ce))),128))])]),_:1},8,["title"])]),_:1})]),_:1},8,["modelValue"])])])}}}),fe=q(ge,[["__scopeId","data-v-660b1551"]]);export{fe as default};
