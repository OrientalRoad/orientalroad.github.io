import{j as O,i as X,Q as U,h as W,g as J,e as Q,U as K,W as Z}from"./theme.CLagTblR.js";import{g as ee}from"./index.BdXRMbul.js";import{u as te}from"./useJsonLD.CVVSaCMM.js";import{_ as b,G as H,E as Y,l as y,q as k,u as c,m as f,x as t,B as _,D as L,A as T,F as oe,y as ae,z as E,j as P,r as $,f as I,o as B,O as j,a4 as q,Y as se,v as D,p as G,a2 as ne,C as ie}from"./framework.BKtd1kvI.js";import{B as le}from"./Breadcrumb.onJNw06o.js";import{_ as re}from"./YouTube.DU9nDUP7.js";const ce={key:0,class:"reference"},de={class:"reference-title"},ue={class:"reference-list-wrap"},ve={class:"reference-list"},me=["href"],pe={class:"site"},_e={__name:"References",setup(h){const{frontmatter:i}=H();return(n,e)=>{const u=Y("Translate");return c(i).reference?(f(),y("dl",ce,[t("dt",de,[_(u,null,{default:L(()=>e[0]||(e[0]=[T("References")])),_:1})]),t("dd",ue,[t("ul",ve,[(f(!0),y(oe,null,ae(c(i).reference,o=>(f(),y("li",{key:o.title,class:"reference-item"},[e[2]||(e[2]=t("span",{class:"index"},"-",-1)),t("a",{href:o.href,rel:"noreferrer",target:"_blank",class:"text"},[T(E(o.title)+" ",1),e[1]||(e[1]=t("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",height:"24px",viewBox:"0 0 24 24",width:"24px",class:"icon"},[t("path",{d:"M0 0h24v24H0V0z",fill:"none"}),t("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"})],-1))],8,me),t("span",pe,E(o.site),1)]))),128))])])])):k("",!0)}}},fe=b(_e,[["__scopeId","data-v-ce98e6c0"]]),he=P({__name:"FloatingSlot",setup(h){const i=$(null),n=$(null),e=$(!0),u=$({width:0,height:0}),o=$({isDragging:!1,startX:0,startY:0,initialBottom:0,initialRight:0}),v=O("floatingSlotPosition",["20px","20px"]),m=I(()=>({bottom:v.value[1],right:v.value[0]})),w=()=>{if(i.value){const a=i.value.getBoundingClientRect();e.value=a.top>=0&&a.bottom<=window.innerHeight}},l=()=>{if(i.value){const a=i.value.querySelector(":first-child");a&&(u.value={width:a.offsetWidth,height:a.offsetHeight})}},s=()=>{w()},p=a=>{const g=a.touches?a.touches[0]:a;o.value.isDragging=!0,o.value.startX=g.clientX,o.value.startY=g.clientY,o.value.initialBottom=parseFloat(v.value[1]),o.value.initialRight=parseFloat(v.value[0]),document.addEventListener("mousemove",d),document.addEventListener("touchmove",d),document.addEventListener("mouseup",r),document.addEventListener("touchend",r)},d=a=>{if(!o.value.isDragging)return;const g=a.touches?a.touches[0]:a;a.cancelable&&a.preventDefault();const S=g.clientX-o.value.startX,x=g.clientY-o.value.startY;v.value=[`${o.value.initialRight-S}px`,`${o.value.initialBottom-x}px`]},r=()=>{o.value.isDragging=!1,document.removeEventListener("mousemove",d),document.removeEventListener("touchmove",d),document.removeEventListener("mouseup",r),document.removeEventListener("touchend",r)};B(()=>{l(),window.addEventListener("scroll",s),window.addEventListener("resize",s),w()}),j(()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)});const V=I(()=>({width:`${u.value.width}px`,height:`${u.value.height}px`}));return(a,g)=>(f(),y("div",{ref_key:"container",ref:i,class:"slot-container"},[e.value?k("",!0):(f(),y("div",{key:0,class:"placeholder",style:q(V.value)},null,4)),t("div",{ref_key:"floatingSlot",ref:n,class:D({"floating-slot":!e.value}),style:q(m.value),onMousedown:p,onTouchstart:se(p,["stop"])},[G(a.$slots,"default",{},void 0,!0)],38)],512))}}),ge=b(he,[["__scopeId","data-v-c1001a13"]]),ye={name:"YouTubePlayer",props:{videoId:{type:String,required:!0},height:{type:String,default:"360"},width:{type:String,default:"640"}},setup(h){const i=$(null),n=`youtube-player-${Math.random().toString(36).substr(2,9)}`;let e=null;const u=()=>{if(window.onYouTubeIframeAPIReady)o();else{const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(s,p),window.onYouTubeIframeAPIReady=o}},o=()=>{var s;(s=window.YT)!=null&&s.Player&&(e=new window.YT.Player(n,{height:h.height,width:h.width,videoId:h.videoId,events:{onReady:()=>console.log(`Player ${n} is ready!`)}}))},v=s=>{e&&e.seekTo(s,!0)},m=()=>{e&&e.playVideo()},w=()=>{e&&e.pauseVideo()},l=s=>{v(s)};return B(()=>{u()}),B(()=>{X.$on("youtube-play-to",l)}),j(()=>{X.$off("youtube-play-to",l)}),{playerRef:i,playerId:n,jumpToTime:v,playVideo:m,pauseVideo:w}}},we=["id"];function $e(h,i,n,e,u,o){return f(),y("div",{id:e.playerId,ref:"playerRef"},null,8,we)}const Ie=b(ye,[["render",$e],["__scopeId","data-v-9249eae5"]]),be={class:"vlog-container"},Se={class:"video"},xe={class:"background"},ke={class:"description"},Le=P({__name:"Vlog",props:{videoId:{type:String,required:!0}},setup(h){return(i,n)=>{const e=Y("Translate");return f(),y("div",be,[_(ge,null,{default:L(()=>[t("div",Se,[t("div",xe,[t("div",null,[_(re,{size:"40"})]),t("div",null,[_(e,null,{default:L(()=>n[0]||(n[0]=[T("Gathering YouTube awesomeness...")])),_:1})])]),_(Ie,{videoId:h.videoId,width:"100%",height:"100%"},null,8,["videoId"])])]),_:1}),t("div",ke,[G(i.$slots,"default",{},void 0,!0)])])}}}),Te=b(Le,[["__scopeId","data-v-2faef4dc"]]),Ee={class:"container"},Ve={key:0,class:"aside"},Be={class:"aside-container"},De={class:"aside-content"},Ye={class:"content"},Pe={class:"content-container"},Re={class:"main"},Ae={class:"vp-doc"},ze=P({__name:"Article",setup(h){const{theme:i,frontmatter:n,localeIndex:e,params:u}=H(),o=ne(),{hasAside:v}=U(),{$t:m}=W(),w=I(()=>o.path.replace(/[./]+/g,"_").replace(/_html$/,"")),l=I(()=>J().find(d=>d.name===n.value.city)),s=I(()=>{if(typeof n.value.attraction=="string")return ee().find(d=>{var r;return d.city===((r=l.value)==null?void 0:r.name)&&d.name===n.value.attraction})}),p=I(()=>Q().find(d=>{var r;return d.link===((r=u.value)==null?void 0:r.article)}));return te(()=>({"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:m("Articles"),item:e.value==="root"?"https://www.orientalroad.com/articles":`https://www.orientalroad.com/${e.value}/articles`},{"@type":"ListItem",position:2,name:n.value.title,item:`https://www.orientalroad.com${location.pathname}`}]})),(d,r)=>{var a,g,S,x,R,A,z,C,F;const V=Y("Content");return f(),y("div",{class:D(["VPDoc",{"has-sidebar":((a=c(n))==null?void 0:a.aside)!==!1}])},[t("div",Ee,[c(v)?(f(),y("div",Ve,[r[0]||(r[0]=t("div",{class:"aside-curtain"},null,-1)),t("div",Be,[t("div",De,[_(K)])])])):k("",!0),t("div",Ye,[t("div",Pe,[_(le,{list:[l.value&&{name:c(m)(`${(g=l.value)==null?void 0:g.region} China`)},l.value&&{name:c(m)((S=l.value)==null?void 0:S.province)},l.value&&{name:c(m)((x=l.value)==null?void 0:x.name),link:(R=l.value)==null?void 0:R.link},s.value&&{name:c(m)("attractions"),link:((A=l.value)==null?void 0:A.link)+"/attractions"},s.value&&{name:c(m)(c(n).attraction),link:s.value.url}].filter(Boolean)},null,8,["list"]),t("main",Re,[t("div",Ae,[t("h1",null,E((C=(z=p.value)==null?void 0:z.title)==null?void 0:C[c(e)]),1),(F=p.value)!=null&&F.videoId?(f(),ie(Te,{key:0,videoId:p.value.videoId},{default:L(()=>{var N,M;return[T(E((M=(N=p.value)==null?void 0:N.introduce)==null?void 0:M[c(e)]),1)]}),_:1},8,["videoId"])):k("",!0)]),_(V,{class:D(["vp-doc",[w.value,c(i).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"]),_(fe)]),_(Z)])])])],2)}}}),He=b(ze,[["__scopeId","data-v-d8a2c4df"]]);export{He as default};
