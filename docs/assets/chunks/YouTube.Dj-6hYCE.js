import{_ as h}from"./YouTube.BRv66vYJ.js";import{_ as P,k as d,a8 as T,q as V,s as Y,c as u,o as c,e as S,C as a,x as p,r,S as f,I as C,a as A}from"./framework.CDATIFxo.js";const R={key:0,class:"cover"},B=["id"],N={class:"container"},x=["href"],$={class:"link-text"},g={class:"author"},L={__name:"YouTube",props:{link:{type:String,required:!0},autoStart:{type:Boolean,default:!1}},setup(m){var i;const n=d(),t=d(!1),s=m,k=T(),[w,v]=s.link.split("?"),[l]=w.split("/").slice(-1),_=(i=v.split("&").map(e=>e.split("=")).find(e=>e[0]==="t"))==null?void 0:i[1];V(()=>{s.autoStart===!0&&play()}),Y(()=>{var e,o;(o=(e=n==null?void 0:n.value)==null?void 0:e.destroy)==null||o.call(e)});const y=e=>{if(window.YT)return e();const o=document.createElement("script");o.src="https://www.youtube.com/iframe_api",o.onerror=()=>window.open(s.link,"_blank","noopener,noreferrer"),document.body.appendChild(o),window.onYouTubeIframeAPIReadyCallbacks=[...window.onYouTubeIframeAPIReadyCallbacks||[],e],window.onYouTubeIframeAPIReady=()=>{window.onYouTubeIframeAPIReadyCallbacks.forEach(I=>I()),delete window.onYouTubeIframeAPIReadyCallbacks,delete window.onYouTubeIframeAPIReady}},b=()=>{t.value!==!0&&y(()=>{t.value=!0,n.value=new YT.Player(l,{width:"100%",playerVars:{playsinline:1},events:{onReady:()=>{n.value.loadVideoById({videoId:l,startSeconds:_})}}})})};return(e,o)=>(c(),u("div",{class:"info custom-block wrapper",style:f({flexWrap:t.value?"wrap":"nowrap"})},[p(k).cover&&!t.value?(c(),u("div",R,[a("a",{onClick:b,class:"VPLink link VPNavScreenMenuGroupLink cover"},[r(e.$slots,"cover",{},void 0,!0)])])):S("",!0),a("div",{id:p(l),style:f({marginBottom:t.value?"8px":"0"})},null,12,B),a("div",N,[a("a",{class:"VPLink link vp-external-link-icon VPNavScreenMenuGroupLink",href:s.link,target:"_blank",rel:"noreferrer"},[C(h,{fill:"#ff0000"}),a("span",$,[r(e.$slots,"title",{},void 0,!0)]),a("span",g,[o[0]||(o[0]=A("@")),r(e.$slots,"author",{},void 0,!0)])],8,x),a("div",null,[r(e.$slots,"description",{},void 0,!0)])])],4))}},q=P(L,[["__scopeId","data-v-d76cd4ce"]]);export{q as Y};
