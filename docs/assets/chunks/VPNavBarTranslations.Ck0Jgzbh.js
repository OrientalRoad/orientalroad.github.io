import{j as z,o as F,W as G,C as O,m as s,B as k,H as q,D as y,l as o,q as V,x as n,Y as H,a4 as K,p as W,T as X,_ as D,G as Y,r as A,f as p,z as l,u as i,F as h,y as x,v as B}from"./framework.DNEL1Zu6.js";import{_ as J,X as Q,u as Z,$ as S,a0 as ee}from"./theme.Dh8_jjvT.js";import{T as ae,a as U}from"./TabPanel.DjZurOmV.js";const ne=z({__name:"Modal",props:{width:{type:Number,default:500},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:r}){const u=r,b=()=>{u("update:modelValue",!1)};let v;return F(()=>{v=J("Escape",_=>{_.preventDefault(),b()})}),G(()=>{v==null||v()}),(_,d)=>(s(),O(X,{to:"body"},[k(q,{name:"modal"},{default:y(()=>[c.modelValue?(s(),o("div",{key:0,class:"modal-overlay",onClick:b},[n("div",{class:"modal",style:K({width:`${c.width}px`}),onClick:d[0]||(d[0]=H(()=>{},["stop"]))},[W(_.$slots,"default",{},void 0,!0)],4)])):V("",!0)]),_:3})]))}}),te=D(ne,[["__scopeId","data-v-5b16e06b"]]);function se(){const c=navigator.language,r=navigator.languages||[c];return{primary:c,all:r}}const le={class:"items"},oe={class:"title"},ie={class:"label"},re={class:"container"},ue=["href","hreflang","onClick"],de={class:"region"},ce={class:"language"},ve={class:"label"},ge={class:"container"},_e=["href","hreflang","onClick"],fe={class:"region"},me={class:"language"},pe={class:"label"},he={class:"container"},ke=["onClick"],ye={class:"region"},be={class:"language"},Ce=z({__name:"VPNavBarTranslations",setup(c){const{site:r,localeIndex:u,page:b,theme:v,hash:_}=Y(),{currency:d,currencies:I}=Q(),{$t:f}=Z(),m=A(!1),{all:L}=se(),g=p(()=>u.value==="root"?S:u.value),M=p(()=>{var a,t;return{label:(a=r.value.locales[u.value])==null?void 0:a.label,link:((t=r.value.locales[u.value])==null?void 0:t.link)||(u.value==="root"?"/":`/${u.value}/`)}}),T=p(()=>Object.entries(r.value.locales).flatMap(([a,t])=>({lang:a==="root"?S:a,region:t.region,currency:t.currency,text:t.label,link:ee(t.link||(a==="root"?"/":`/${a}/`),v.value.i18nRouting!==!1,b.value.relativePath.slice(M.value.link.length-1),!r.value.cleanUrls)+_.value}))),w=p(()=>{const a=[];return T.value.forEach(t=>{const e=L.indexOf(t.lang);e>-1&&(a[e]=t)}),a.filter(Boolean)}),N=p(()=>T.value.filter(a=>!L.includes(a.lang))),E=()=>{m.value=!0},$=()=>{m.value=!1},R=a=>{m.value=a},j=a=>()=>{d.value=a,$()},P=a=>()=>{a.currency&&(d.value=a.currency),$()};return(a,t)=>(s(),o("div",{class:"VPNavBarTranslations",onClick:E},[n("div",le,[n("span",oe,[n("span",null,l(M.value.label),1),t[1]||(t[1]=n("span",{class:"divider"},null,-1)),n("span",null,l(i(d)),1)]),k(te,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),"onUpdate:visible":R,width:550},{default:y(()=>[k(ae,null,{default:y(()=>[k(U,{title:i(f)("Region and Language")},{default:y(()=>[w.value.length>0?(s(),o(h,{key:0},[n("div",ie,l(i(f)("Suggested region and language")),1),n("div",re,[(s(!0),o(h,null,x(w.value,e=>(s(),o("a",{key:e.link,href:g.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:g.value===e.lang?void 0:P(e)},[i(L).includes(e.lang)?(s(),o("div",{key:0,class:B(["button",{active:g.value===e.lang}])},[n("div",de,l(e.region),1),n("div",ce,l(e.text),1)],2)):V("",!0)],8,ue))),128))])],64)):V("",!0),N.value.length>0?(s(),o(h,{key:1},[n("div",ve,l(i(f)("Choose a region and language")),1),n("div",ge,[(s(!0),o(h,null,x(N.value,e=>(s(),o("a",{key:e.link,href:g.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:g.value===e.lang?void 0:P(e)},[n("div",{class:B(["button",{active:g.value===e.lang}])},[n("div",fe,l(e.region),1),n("div",me,l(e.text),1)],2)],8,_e))),128))])],64)):V("",!0)]),_:1},8,["title"]),k(U,{title:i(f)("Currency")},{default:y(()=>[n("div",pe,l(i(f)("Choose a currency")),1),n("div",he,[(s(!0),o(h,null,x(i(I),(e,C)=>(s(),o("a",{key:e.name,onClick:i(d)===C?void 0:j(C)},[n("div",{class:B(["button",{active:i(d)===C}])},[n("div",ye,l(e.name),1),n("div",be,l(C),1)],2)],8,ke))),128))])]),_:1},8,["title"])]),_:1})]),_:1},8,["modelValue"])])]))}}),Be=D(Ce,[["__scopeId","data-v-bf300615"]]);export{Be as default};
