import{_ as h}from"./theme.D5vOaE-S.js";import{_ as P,r as d,k as T,o as V,O as Y,l as u,m as c,q as S,x as n,u as p,p as r,a4 as f,B as A,A as B}from"./framework.D3smszVH.js";const C={key:0,class:"cover"},R=["id"],N={class:"container"},x=["href"],$={class:"link-text"},g={class:"author"},L={__name:"YouTube",props:{link:{type:String,required:!0},autoStart:{type:Boolean,default:!1}},setup(m){var i;const a=d(),t=d(!1),s=m,k=T(),[w,v]=s.link.split("?"),[l]=w.split("/").slice(-1),_=(i=v.split("&").map(e=>e.split("=")).find(e=>e[0]==="t"))==null?void 0:i[1];V(()=>{s.autoStart===!0&&play()}),Y(()=>{var e,o;(o=(e=a==null?void 0:a.value)==null?void 0:e.destroy)==null||o.call(e)});const y=e=>{if(window.YT)return e();const o=document.createElement("script");o.src="https://www.youtube.com/iframe_api",o.onerror=()=>window.open(s.link,"_blank","noopener,noreferrer"),document.body.appendChild(o),window.onYouTubeIframeAPIReadyCallbacks=[...window.onYouTubeIframeAPIReadyCallbacks||[],e],window.onYouTubeIframeAPIReady=()=>{window.onYouTubeIframeAPIReadyCallbacks.forEach(I=>I()),delete window.onYouTubeIframeAPIReadyCallbacks,delete window.onYouTubeIframeAPIReady}},b=()=>{t.value!==!0&&y(()=>{t.value=!0,a.value=new YT.Player(l,{width:"100%",playerVars:{playsinline:1},events:{onReady:()=>{a.value.loadVideoById({videoId:l,startSeconds:_})}}})})};return(e,o)=>(c(),u("div",{class:"info custom-block wrapper",style:f({flexWrap:t.value?"wrap":"nowrap"})},[p(k).cover&&!t.value?(c(),u("div",C,[n("a",{onClick:b,class:"VPLink link VPNavScreenMenuGroupLink cover"},[r(e.$slots,"cover",{},void 0,!0)])])):S("",!0),n("div",{id:p(l),style:f({marginBottom:t.value?"8px":"0"})},null,12,R),n("div",N,[n("a",{class:"VPLink link vp-external-link-icon VPNavScreenMenuGroupLink",href:s.link,target:"_blank",rel:"noreferrer"},[A(h,{fill:"#ff0000"}),n("span",$,[r(e.$slots,"title",{},void 0,!0)]),n("span",g,[o[0]||(o[0]=B("@")),r(e.$slots,"author",{},void 0,!0)])],8,x),n("div",null,[r(e.$slots,"description",{},void 0,!0)])])],4))}},q=P(L,[["__scopeId","data-v-d76cd4ce"]]);export{q as Y};
